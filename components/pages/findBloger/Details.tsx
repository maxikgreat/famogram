import {Dispatch, SetStateAction, useEffect, VFC} from 'react';import type {MouseEvent as MouseEventReact} from 'react';import {FontAwesomeIcon} from '@fortawesome/react-fontawesome';import {faTimesCircle, faBusinessTime, faLock, faLockOpen, faInfoCircle, faEnvelope} from '@fortawesome/free-solid-svg-icons';import {faWhatsapp, faFacebook} from '@fortawesome/free-brands-svg-icons';import {ContactInfoMetadata, InstagramMetadata, User} from '@/types';interface DetailsProps {	activeBlogger: User | null,	setActiveBlogger: Dispatch<SetStateAction<User | null>>}export const Details: VFC<DetailsProps> = ({activeBlogger, setActiveBlogger}) => {	useEffect(() => {		const className = 'modal-open';		const scrollList = document.querySelectorAll('.scroll-list');		if (activeBlogger) {			scrollList.forEach(item => item.classList.add(className))			return document.body.classList.add(className);		}		scrollList.forEach(item => item.classList.remove(className))		document.body.classList.remove(className);	}, [activeBlogger]);	if (!activeBlogger) return null;		const { user, category, price, desc } = activeBlogger.user_metadata?.instagram as InstagramMetadata;	const { contactEmail, messengers: {facebook, whatsApp}} = activeBlogger.user_metadata?.contactInfo as ContactInfoMetadata;		const onClickHandler = (event: MouseEventReact<HTMLDivElement, MouseEvent>) => {		const element = event.target as HTMLDivElement;		if (!element.classList.contains('details-hld')) return;		setActiveBlogger(null);	}		return (		<div className="details-hld" onClick={onClickHandler}>			<div className="details d-flex flex-column align-items-end">				<FontAwesomeIcon					icon={faTimesCircle}					color="#f39933"					className="position-absolute close-icon"					size="2x"					onClick={() => setActiveBlogger(null)}				/>				<div className="position-absolute p-0 center-image">					<img src={user.photoUrl} className="rounded-circle" />				</div>				<div className="details-content">					<div className="top-card d-flex flex-column align-items-center p-3 pb-4">						<span className="category position-absolute bottom-0 font-size-16 text-primary"><b>{category}</b></span>						{							user.fullName !== ''								? (									<>										<h3 className="mb-0">											<b>{user.fullName}</b>										</h3>										<a style={{textDecoration: 'underline'}} target="_blank" rel="noreferrer noopener" href={`https://instagram.com/${user.username}`}>(@{user.username})</a>									</>								)								: (									<h3 className="mb-0">										<a style={{textDecoration: 'underline'}} target="_blank" rel="noreferrer noopener" href={`https://instagram.com/${user.username}`}>@{user.username}</a>									</h3>								)						}						<div className="d-flex justify-content-end px-2 py-2">							{user.isBusinessAccount && (								<div className="fabrx-chip mr-2">									<FontAwesomeIcon icon={faBusinessTime} />									<span>Business</span>								</div>							)}							{user.isPrivate ? (								<div className="fabrx-chip">									<FontAwesomeIcon icon={faLock} />									<span>Private</span>								</div>							) : (								<div className="fabrx-chip">									<FontAwesomeIcon icon={faLockOpen} />									<span>Public</span>								</div>							)}						</div>						<div className="d-flex justify-content-end px-3 pb-2">							{user.externalUrl && (								<a href={user.externalUrl} style={{ textDecoration: 'underline' }}>{user.externalUrl}</a>							)}						</div>					</div>					<div className="bottom-card d-flex flex-column justify-content-between justify-content-sm-around bg-primary p-2">						<div className="d-flex flex-column align-items-center">							<FontAwesomeIcon icon={faInfoCircle} color="#000" size="2x" className="mb-2"/>							<p className="m-0 text-break text-center"><b>{desc}</b></p>						</div>						<div className="d-flex justify-content-center price">							<span className="d-inline-block py-1 px-3 text-right">								<span>									<b>{price.story}<span className="font-size-14">$</span></b>								</span>								<span className="d-block"><b>story</b></span>							</span>							<div className="mx-2" />							<span className="d-inline-block py-1 px-3 text-left">								<span>									<b>{price.post}<span className="font-size-14">$</span></b>								</span>								<span className="d-block"><b>post</b></span>							</span>						</div>						<div className="contacts d-flex justify-content-center">							<a href={`mailto:${contactEmail}`}><FontAwesomeIcon icon={faEnvelope} size="2x" color="#000" /></a>							{								facebook ?									<a href={facebook}><FontAwesomeIcon className="mx-4" icon={faFacebook} size="2x" color="#000" /></a>									: <FontAwesomeIcon icon={faFacebook} size="2x" className="mx-4" color="#000" style={{ opacity: .25}} />							}							{								whatsApp ?									<a href={`tel:${whatsApp}`}><FontAwesomeIcon icon={faWhatsapp} size="2x" color="#000" /></a>									: <FontAwesomeIcon icon={faWhatsapp} size="2x" color="#000" style={{ opacity: .25}} />							}						</div>					</div>				</div>			</div>		</div>	)};